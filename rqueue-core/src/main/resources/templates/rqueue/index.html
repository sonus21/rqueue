{% extends 'classpath:/templates/rqueue/base.html' %}
{% block main %}
{% include 'classpath:/templates/rqueue/stats_chart.html' %}
<hr/>
{% include 'classpath:/templates/rqueue/latency_chart.html' %}
{% endblock %}

{% block additional_script %}
<script type="application/javascript" nonce="{{indexNonce}}">
  var chartParams = {'type': 'STATS', 'aggregationType': 'DAILY'};
  var latencyChartParams = {'type': 'LATENCY', 'aggregationType': 'DAILY'};
  $(document).ready(function () {
    drawChart(chartParams, "stats_chart");
    drawChart(latencyChartParams, "latency_chart");
    $('#refresh-chart').click(function () {
      refreshStatsChart(chartParams, "stats_chart");
    });
    $('#refresh-latency-chart').click(function () {
      refreshLatencyChart(latencyChartParams, "latency_chart");
    });
  });
</script>
{% endblock %}

